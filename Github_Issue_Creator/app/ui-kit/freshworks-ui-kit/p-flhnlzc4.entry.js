import{r as t,c as s,h as i,g as a,H as e}from"./p-f87cf4ae.js";const r=(t,s)=>{if(1===t.nodeType)return(t.tagName===s.toUpperCase()?[t]:Array.from(t.querySelectorAll(s))).find(t=>!0===t.checked)},o=class{constructor(i){t(this,i),this.allowEmpty=!1,this.name="",this.onSelect=t=>{const s=t.target;s&&(this.value=s.value)},this.onDeselect=async t=>{this.allowEmpty&&t.target.value===this.value&&(this.value=void 0),await this.updateRadios()},this.fwChange=s(this,"fwChange",7)}async valueChanged(t){await this.updateRadios(),this.fwChange.emit({value:t})}async connectedCallback(){const t=this.el;if(void 0===this.value){const s=r(t,"fw-radio");void 0!==s&&(await s.componentOnReady(),void 0===this.value&&(this.value=s.value))}this.mutationO=((t,s,i)=>{const a=new MutationObserver(t=>{i(((t,s)=>{let i;return t.forEach(t=>{for(let a=0;a<t.addedNodes.length;a++)i=r(t.addedNodes[a],s)||i}),i})(t,"fw-radio"))});return a.observe(t,{childList:!0,subtree:!0}),a})(t,0,async t=>{void 0!==t?t.componentOnReady().then(()=>{this.value=t.value}).catch():await this.updateRadios()}),await this.updateRadios()}disconnectedCallback(){this.mutationO&&(this.mutationO.disconnect(),this.mutationO=void 0)}async updateRadios(){const t=await this.getRadios(),{value:s}=this;let i=!1;for(const a of t)i||a.value!==s?a.checked=!1:(i=!0,a.checked=!0);i||(this.value=void 0)}getRadios(){return Promise.all(Array.from(this.el.querySelectorAll("fw-radio")).map(t=>t.componentOnReady()))}render(){return i(e,{role:"radiogroup",onFwSelect:this.onSelect,onFwDeselect:this.onDeselect})}get el(){return a(this)}static get watchers(){return{value:["valueChanged"]}}};export{o as fw_radio_group};